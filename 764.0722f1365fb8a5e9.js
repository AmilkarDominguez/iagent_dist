"use strict";(self.webpackChunkiagent=self.webpackChunkiagent||[]).push([[764],{2764:(M,p,a)=>{a.r(p),a.d(p,{AuthModule:()=>J});var g=a(6019),r=a(7537),m=a(9870),u=a(481),e=a(2383),d=a(6077),c=a(397),Z=a(7031),f=a(7043),h=a(9797),v=a(4750);const A=function(){return{width:"50rem",margin:"2em"}};let b=(()=>{class t{constructor(o,n,s,l){this.fb=o,this.router=n,this.authService=s,this.messageService=l,this.loginForm=this.fb.group({email:["agente1@gmail.com",[r.kI.required,r.kI.email]],password:["Abecedeefge123",[r.kI.required,r.kI.minLength(8)]]})}ngOnInit(){}login(){const{email:o,password:n}=this.loginForm.value;this.authService.login(o,n).subscribe(s=>{!0===s?(this.messageService.add({severity:"success",summary:"Bienvenido",detail:o}),this.router.navigateByUrl("")):this.messageService.add({severity:"error",summary:"Error",detail:"Los datos son incorrectos, "+s})})}goRegister(){this.router.navigateByUrl("/auth/register")}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(r.qu),e.Y36(m.F0),e.Y36(d.e),e.Y36(u.ez))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],features:[e._Bn([u.ez])],decls:22,vars:7,consts:[[1,"text-center"],["src","./assets/logo_iagent.svg","width","30%","alt",""],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"p-grid","p-fluid","mx-4"],[1,"col-12"],[1,"my-2"],[1,"pi","pi-user","mr-2"],["type","text","pInputText","","placeholder","Correo","formControlName","email"],[1,"pi","pi-key","mr-2"],["formControlName","password","placeholder","Contrase\xf1a","promptLabel","Ingrese su contrase\xf1a","weakLabel","Seguridad baja","mediumLabel","Seguridad media","strongLabel","Seguridad alta",3,"toggleMask","feedback"],[1,"col-12","mt-4"],["pButton","","type","submit","label","Ingresar",1,"bg-primary","p-button-rounded","text-white",3,"disabled"],[1,"col-12","mt-2"],[1,"text-center","mb-2"],["pButton","","type","button","label","CREAR CUENTA AQU\xcd",1,"p-button-link","p-button-sm","text-primary",3,"click"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-card"),e.TgZ(2,"div",0),e._UZ(3,"img",1),e.qZA(),e.TgZ(4,"form",2),e.NdJ("ngSubmit",function(){return n.login()}),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e._UZ(8,"i",6),e._uU(9,"Correo"),e.qZA(),e._UZ(10,"input",7),e.qZA(),e.TgZ(11,"div",4),e.TgZ(12,"div",5),e._UZ(13,"i",8),e._uU(14,"Contrase\xf1a"),e.qZA(),e._UZ(15,"p-password",9),e.qZA(),e.TgZ(16,"div",10),e._UZ(17,"button",11),e.qZA(),e.TgZ(18,"div",12),e.TgZ(19,"div",13),e._uU(20," \xbfNo tienes cuenta? "),e.qZA(),e.TgZ(21,"a",14),e.NdJ("click",function(){return n.goRegister()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(1),e.Akn(e.DdM(6,A)),e.xp6(3),e.Q6J("formGroup",n.loginForm),e.xp6(11),e.Q6J("toggleMask",!0)("feedback",!1),e.xp6(2),e.Q6J("disabled",n.loginForm.invalid))},directives:[c.FN,Z.Z,r._Y,r.JL,r.sg,r.Fj,f.o,r.JJ,r.u,h.ro,v.Hq],styles:[""]}),t})();function y(t,i){1&t&&(e.TgZ(0,"p",20),e._UZ(1,"i",21),e._uU(2," El nombre debe ser mayor a 3 letras "),e.qZA())}function C(t,i){1&t&&(e.TgZ(0,"p",20),e._UZ(1,"i",21),e._uU(2," El apellido debe ser mayor a 3 letras "),e.qZA())}function I(t,i){1&t&&(e.TgZ(0,"p",20),e._UZ(1,"i",21),e._uU(2," El correo es incorrecto "),e.qZA())}function q(t,i){1&t&&(e.TgZ(0,"p",20),e._UZ(1,"i",21),e._uU(2," La contrase\xf1a debe ser mayor a 8 car\xe1cteres "),e.qZA())}function _(t,i){1&t&&(e.TgZ(0,"p",20),e._UZ(1,"i",21),e._uU(2," El tel\xe9fono debe ser v\xe1lido "),e.qZA())}const F=function(){return{width:"50rem",margin:"2em"}},x=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-main"]],decls:3,vars:0,consts:[[1,"card","h-full"],[1,"flex","justify-content-center","card-container"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"router-outlet"),e.qZA(),e.qZA())},directives:[m.lC],styles:["body[_ngcontent-%COMP%]{background-color:red}"]}),t})(),children:[{path:"login",component:b},{path:"register",component:(()=>{class t{constructor(o,n,s,l){this.fb=o,this.router=n,this.authService=s,this.messageService=l,this.registerForm=this.fb.group({name:["NameTest",[r.kI.required,r.kI.minLength(3)]],lastname:["lastnameTest",[r.kI.required,r.kI.minLength(3)]],phone_number:["12345678",[r.kI.required,r.kI.pattern("^[0-9]*$"),r.kI.minLength(8)]],email:["agente1@gmail.com",[r.kI.required,r.kI.email]],password:["Abecedeefge123",[r.kI.required,r.kI.minLength(8)]],rol:["AGENT",[r.kI.required]]})}ngOnInit(){}register(){const{name:o,lastname:n,phone_number:s,email:l,password:R,rol:B}=this.registerForm.value;this.authService.register(o,n,s,l,R,B).subscribe(T=>{!0===T?(this.messageService.add({severity:"success",summary:"Bienvenido",detail:l}),this.router.navigateByUrl("")):this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error al registrarse, "+T})})}goLogin(){this.router.navigateByUrl("/auth/login")}fiedlIsValid(o){return this.registerForm.controls[o].errors&&this.registerForm.controls[o].touched}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(r.qu),e.Y36(m.F0),e.Y36(d.e),e.Y36(u.ez))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],features:[e._Bn([u.ez])],decls:45,vars:11,consts:[[1,"text-center"],["src","./assets/logo_iagent.svg","width","20%","alt",""],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"p-grid","p-fluid","mx-4"],[1,"col-12"],[1,"my-2"],[1,"pi","pi-user","mr-2"],["type","text","pInputText","","placeholder","Nombre","formControlName","name"],["class","text-red",4,"ngIf"],["type","text","pInputText","","placeholder","Apellido","formControlName","lastname"],["type","text","pInputText","","placeholder","Correo","formControlName","email"],[1,"pi","pi-key","mr-2"],["formControlName","password","placeholder","Contrase\xf1a","promptLabel","Ingrese su contrase\xf1a","weakLabel","Seguridad baja","mediumLabel","Seguridad media","strongLabel","Seguridad alta",3,"toggleMask"],[1,"pi","pi-phone","mr-2"],["type","tel","pInputText","","placeholder","Tel\xe9fono","formControlName","phone_number"],[1,"col-12","mt-4"],["pButton","","type","submit","label","Registrarse",1,"bg-primary","p-button-rounded","text-white",3,"disabled"],[1,"col-12","mt-2"],[1,"text-center","mb-2"],["pButton","","type","button","label","INICIAR SESI\xd3N",1,"p-button-link","p-button-sm","text-primary",3,"click"],[1,"text-red"],[1,"pi","pi-ban"]],template:function(o,n){1&o&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-card"),e.TgZ(2,"div",0),e._UZ(3,"img",1),e.TgZ(4,"h2"),e.TgZ(5,"b"),e._uU(6,"REGISTRARSE"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"form",2),e.NdJ("ngSubmit",function(){return n.register()}),e.TgZ(8,"div",3),e.TgZ(9,"div",4),e.TgZ(10,"div",5),e._UZ(11,"i",6),e._uU(12,"Nombre"),e.qZA(),e._UZ(13,"input",7),e.YNc(14,y,3,0,"p",8),e.qZA(),e.TgZ(15,"div",4),e.TgZ(16,"div",5),e._UZ(17,"i",6),e._uU(18,"Apellido"),e.qZA(),e._UZ(19,"input",9),e.YNc(20,C,3,0,"p",8),e.qZA(),e.TgZ(21,"div",4),e.TgZ(22,"div",5),e._UZ(23,"i",6),e._uU(24,"Correo"),e.qZA(),e._UZ(25,"input",10),e.YNc(26,I,3,0,"p",8),e.qZA(),e.TgZ(27,"div",4),e.TgZ(28,"div",5),e._UZ(29,"i",11),e._uU(30,"Contrase\xf1a"),e.qZA(),e._UZ(31,"p-password",12),e.YNc(32,q,3,0,"p",8),e.qZA(),e.TgZ(33,"div",4),e.TgZ(34,"div",5),e._UZ(35,"i",13),e._uU(36,"Tel\xe9fono"),e.qZA(),e._UZ(37,"input",14),e.YNc(38,_,3,0,"p",8),e.qZA(),e.TgZ(39,"div",15),e._UZ(40,"button",16),e.qZA(),e.TgZ(41,"div",17),e.TgZ(42,"div",18),e._uU(43," \xbfYa tienes cuenta? "),e.qZA(),e.TgZ(44,"a",19),e.NdJ("click",function(){return n.goLogin()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(1),e.Akn(e.DdM(10,F)),e.xp6(6),e.Q6J("formGroup",n.registerForm),e.xp6(7),e.Q6J("ngIf",n.fiedlIsValid("name")),e.xp6(6),e.Q6J("ngIf",n.fiedlIsValid("lastname")),e.xp6(6),e.Q6J("ngIf",n.fiedlIsValid("email")),e.xp6(5),e.Q6J("toggleMask",!0),e.xp6(1),e.Q6J("ngIf",n.fiedlIsValid("password")),e.xp6(6),e.Q6J("ngIf",n.fiedlIsValid("phone_number")),e.xp6(2),e.Q6J("disabled",n.registerForm.invalid))},directives:[c.FN,Z.Z,r._Y,r.JL,r.sg,r.Fj,f.o,r.JJ,r.u,g.O5,h.ro,v.Hq],styles:[""]}),t})()},{path:"**",redirectTo:"login"}]}];let S=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[m.Bz.forChild(x)],m.Bz]}),t})();var k=a(6286),N=a(1382),L=a(4522);let J=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[g.ez,S,k.W,N.m,r.u5,r.UX,L.JF]]}),t})()}}]);